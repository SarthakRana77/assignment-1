<%- include('includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css">
</head>

<body>
   <%- include('includes/navigation.ejs') %>

    <main>
        <form method="POST" action="/check-client" class="product-form" enctype='application/json'>
            <div class="form-control">
                <h2>Agency:</h2>
                
                <label for="agency-name">Agency Name:</label>
                <input type="text" id="agency-name" name="agencyName" placeholder="Enter agency name" required><p>
                <label for="address1">Address1:</label>
                <input type="text" id="address1" name="address1" placeholder="Enter Address 1" required><p>
                <label for="address2">Address2:</label>
                <input type="text" id="address2" name="address2" placeholder="Enter Address 2"><p>
                <label for="state">State:</label>
                <input type="text" id="state" name="state" placeholder="Enter state" required><p>
                <label for="city">City:</label>
                <input type="text" id="city" name="city" placeholder="Enter city" required><p>
                <label for="phone-number">Phone Number:</label>
                <input type="tel" id="phone-number" name="phone" placeholder="Enter phone number" required><p>
                    <%var i=0%>
                   
                <h2>Client 1:</h2>
                <ul id="clients-list">
                <li>
                    <label for="phone-number">Name</label>
                    <input type="text" name='clients[0][name]'  placeholder="Enter Client name" required><p>
                    <label for="phone-number">Email</label>
                    <input type="email" name="clients[0][email]" placeholder="Enter email" required><p>
                    <label for="phone-number">Phone Number</label>
                    <input type="tel" name="clients[0][number]" placeholder="Enter phone number" required><p>
                    <label for="phone-number">Total Bill</label>
                    <input type="number" name="clients[0][bill]" placeholder="Enter total bill amount ₹" required><p>
                </li>
                <div id="inputs-container"></div>
                </ul>
            
                <button class="btn" type="button" id="add-client-button" onclick="addInputs()">Add Client</button></p>
            
                <button type="submit" class="btn">Submit</button>
            </div>
            <script>
                var i=0;
                var cl=1;
                function addInputs() {
                  var container = document.getElementById("inputs-container");
                  var input = document.createElement("div");
                  i=i+1;
                  cl=cl+1
                  input.innerHTML += '<h2>Client '+cl+':</h2><li><label for="phone-number">Name</label><input type="text" name="clients['+i+'][name]" placeholder="Enter Client name" id='+i+'required><p><label for="phone-number">Email</label><input type="email" name="clients['+i+'][email]" placeholder="Enter email" required><p> <label for="phone-number">Phone Number</label><input type="tel" name="clients['+i+'][number]" placeholder="Enter phone number" required><p><label for="phone-number">Total Bill</label><input type="number" name="clients['+i+'][bill]" placeholder="Enter total bill amount ₹" required><p></li>';
                container.appendChild(input);
                }
            </script>
        </form>
    </main>
<%- include('includes/end.ejs') %>